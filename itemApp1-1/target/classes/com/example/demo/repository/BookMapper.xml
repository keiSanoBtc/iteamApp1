<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.repository.BookMapper">
    <select id="bookSearchedList" resultType="com.example.demo.entity.Book">
		 SELECT * FROM BOOK_TABLE;
    </select>
    <select id="lastPlanBookNum" resultType="com.example.demo.entity.Book">
    	 SELECT id, book_title from book_plan_table ORDER BY ID DESC LIMIT 1;
    </select>
    <insert id="addPlanBook" >
		 INSERT INTO BOOK_PLAN_TABLE (ID, USER_ID, BOOK_ID, BOOK_TITLE)
		 	VALUES (#{last_id}, #{user_id}, #{book_id}, #{book_name})
    </insert>

    <select id="userSearch" resultType="com.example.demo.entity.User">
    	 SELECT USER_ID, USER_NAME FROM USER_TABLE WHERE USER_ID = #{user_id};
    </select>
</mapper>